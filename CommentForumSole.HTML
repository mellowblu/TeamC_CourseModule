<!doctype html>
<html lang="en">

<head>
    <title>FAQs</title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <!-- Style adjustment -->
    <style>
        .link-muted {
            color: #aaa;
        }

        .link-muted:hover {
            color: #1266f1;
        }

        .nav {
            background-color: #D9FFCF;
        }

        /* Adjust the size and alignment of the three dots icon */
        .dropdown .link-muted i.bx {
            font-size: 25px;
            /* Change the font size to your desired value */
            margin-right: 10px;
            margin-top: 8px;
        }

        /* Optional: Adjust alignment */
        .dropdown {
            /* Add your desired alignment styles */
            /* For example, to align it to the right side */
            text-align: right;
        }
        /* Update: January 12, 2024*/
        .fullWidth{ 
          width: 100%;

        }
    </style>

    <!-- Bootstrap CSS v5.2.1 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
        crossorigin="anonymous" />
    <!-- Font Awesome -->
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
</head>

<body>
  <section style="background-color: #EBFFE5;">
    <div class="container my-5 py-5 text-dark">
        <!-- Title -->
        <div class="comment-forum-title" style="text-align: center; color:#0e3b03;">
            <h1>Comment Forum</h1>
        </div>
        <div class="container my-5 py-1 text-dark">
            <!-- New container for input field and button/* Update: January 12, 2024*/ --> 
<div class="row d-flex justify-content-center">
<div class="col-md-11 col-lg-9 col-xl-7">
  <div class="input-group">
      <div class="form-floating">
          <textarea class="form-control" placeholder="State comment" id="newPostTextArea" style="height: 150px;"></textarea>
          <label for="newPostTextArea">Share your thoughts</label>
      </div>
  </div>
  <div class="d-md-flex justify-content-md-end"><!--Update: January 12, 2024-->
      <button class="btn btn-success mt-2" onclick="postNewPost()">Post</button>
  </div>

        <!--Update: January 12, 2024-->
        <script>
          function postNewPost() {
              var newPostText = document.getElementById('newPostTextArea').value;
      
              if (newPostText.trim() === '') {
                  alert('Please enter a post.');
                  return;
              }
      
              // Clone the post template
              var postTemplate = document.getElementById('commentTemplate');
              var newPost = postTemplate.cloneNode(true);
      
              // Update the new post content
              newPost.style.display = 'block'; // Make the new post visible
              newPost.querySelector('h5').innerText = 'User'; // Replace 'User' with the actual user's name
              newPost.querySelector('.small').innerText = 'Just now'; // Update the timestamp
              newPost.querySelector('.comment-body p').innerText = newPostText;
      
              // Append the new post to the container for displaying posts
              var postContainer = document.getElementById('postContainer');
              postContainer.insertBefore(newPost, postContainer.firstChild);
      
              // Clear the post text area
              document.getElementById('newPostTextArea').value = '';
          }
      </script>
      <!--Update: January 12, 2024-->
      <!-- Container for displaying posts -->
<div id="postContainer" class="mt-3">
<!-- Existing posts or dynamically added posts will be displayed here -->
</div>
</div>
</div>
<!--Update: January 12, 2024-->
            <!-- First Container[POST] -->
            <div class="row d-flex justify-content-center">
                <div class="col-md-11 col-lg-9 col-xl-7">
                    <div class="card w-100">
                        <div class="card-body p-4">
                            <div class="d-flex">
                                <!-- Replace 'your_placeholder_image_url.jpg' with the actual placeholder image URL -->
                                <img src="https://via.placeholder.com/40" alt="User Image"
                                    class="rounded-circle me-3" style="width: 40px; height: 40px;">
                                <div class="d-flex flex-column fullWidth">
                                    <div class="d-flex justify-content-between align-items-center mb-2">
                                        <div>
                                            <h5>User</h5>
                                            <p class="small" id="timestamp">Timestamp goes here</p>
                                        </div>
                                        <div class="dropdown position-absolute top-0 end-0">
                                            <a class="link-muted" href="#" role="button" id="dropdownMenuLink"
                                                data-bs-toggle="dropdown" aria-expanded="false">
                                                <i class='bx bx-dots-horizontal-rounded'></i>
                                            </a>
                                            <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                                <li><a class="dropdown-item" href="#" onclick="editPost()">Edit</a></li>
                                                <li><a class="dropdown-item" href="#">Delete</a></li>
                                            </ul>
                                        </div>
                                    </div>
                                    <p class="mt-3" id="postContent">
                                        Does anyone have a hard time understanding the Chapter 2 of Java? Tell me your
                                        insights. I would really love to share mine.
                                    </p>
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div class="d-flex align-items-center">
                                            <a href="#!" class="link-muted me-2"><i class='bx bx-like'></i>132</a>
                                            <a href="#!" class="link-muted"><i class='bx bx-dislike'></i>15</a>
                                            <a href="#commentTextArea" class="link-muted"
                                                onclick="toggleCommentVisibility()"><i class='bx bx-reply'></i> Reply</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
<!--Update: January 12, 2024-->
                            <!-- Text area for comments (initially hidden) -->
                            <div id="commentContainer" class="mt-3" style="display: none;">
                                <textarea id="commentTextArea" class="form-control" rows="3"
                                    placeholder="Write your comment..."></textarea>
                                <button class="btn btn-primary mt-2" onclick="postComment()">Post Comment</button>
                            </div>
                        </div>
                        <!-- Container for displaying nested comments -->
                        <div id="nestedCommentContainer" class="mt-3">
                            <!-- Existing comments or dynamically added comments will be displayed here -->
                        </div>
                    </div>
                </div>
            </div>
<!--Update: January 12, 2024-->
            <!-- Second Container[COMMENT] -->
            <div class="row d-flex justify-content-center">
                <div class="col-md-11 col-lg-9 col-xl-7">
                    <!-- Comment template (hidden) -->
                    <div id="commentTemplate" class="card w-100" style="display: none;">
                        <div class="card-body p-4">
                            <div class="comment-container d-flex align-items-start">
                                <img src="https://via.placeholder.com/40" alt="User Image"
                                    class="rounded-circle me-3" style="width: 40px; height: 40px;">
                                <div class="dropdown position-absolute top-0 end-0">
                                    <a class="link-muted" href="#" role="button" id="dropdownMenuLink"
                                        data-bs-toggle="dropdown" aria-expanded="false">
                                        <i class='bx bx-dots-horizontal-rounded'></i>
                                    </a>
                                    <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                        <li><a class="dropdown-item" href="#">Edit</a></li>
                                        <li><a class="dropdown-item" href="#">Delete</a></li>
                                    </ul>
                                </div>
                                <div class="flex-grow-1">
                                    <h5>User</h5>
                                    <p class="small" id="commentTimestamp">Just now</p>
                                    <div class="comment-body">
                                        <p id="commentContent">
                                            Comment content goes here.
                                        </p>
                                    </div>
                                    <div class="comment-actions d-flex align-items-center">
                                        <a href="#!" class="link-muted me-2"><i class='bx bx-like'></i>56</a>
                                        <a href="#!" class="link-muted me-2"><i class='bx bx-dislike'></i>24</a>
                                        <a href="#commentTextArea" class="link-muted"
                                            onclick="toggleCommentVisibility()"><i class='bx bx-reply'></i>Reply</a>
                                    </div>
                                </div>
                            </div>
                            <!-- Text area for comments (initially hidden) -->
                            <div id="commentContainer" class="mt-3" style="display: none;">
                                <textarea id="commentTextArea" class="form-control" rows="3"
                                    placeholder="Write your comment..."></textarea>
                                <button class="btn btn-primary mt-2" onclick="postComment()">Post Comment</button>
                            </div>
                            <!-- Container for displaying nested comments -->
                            <div id="nestedCommentContainer" class="mt-3">
                                <!-- Existing comments or dynamically added comments will be displayed here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
<!--Update: January 12, 2024-->
            <script>
              function toggleCommentVisibility() {
                  var commentContainer = document.getElementById('commentContainer');
                  commentContainer.style.display = (commentContainer.style.display === 'none' || commentContainer.style.display === '') ? 'block' : 'none';
          
                  // If visible, scroll to the comment text area
                  if (commentContainer.style.display === 'block') {
                      document.getElementById('commentTextArea').scrollIntoView({ behavior: 'smooth' });
                  }
              }
          
              function postComment() {
                  var commentText = document.getElementById('commentTextArea').value;
          
                  if (commentText.trim() === '') {
                      alert('Please enter a comment.');
                      return;
                  }
          
                  // Clone the comment template
                  var commentTemplate = document.getElementById('commentTemplate');
                  var newComment = commentTemplate.cloneNode(true);
          
                  // Update the new comment content
                  newComment.style.display = 'block'; // Make the new comment visible
                  newComment.querySelector('h5').innerText = 'User'; // Replace 'User' with the actual user's name
                  newComment.querySelector('.small').innerText = 'Just now'; // Update the timestamp
                  newComment.querySelector('.comment-body p').innerText = commentText;
          
                  // Append the new comment to the container for displaying nested comments
                  var nestedCommentContainer = document.getElementById('nestedCommentContainer');
                  nestedCommentContainer.appendChild(newComment);
          
                  // Clear the comment text area
                  document.getElementById('commentTextArea').value = '';
          
                  // Hide the comment text area after posting
                  document.getElementById('commentContainer').style.display = 'none';
              }
          
              function editPost() {
                  // Get the post content and timestamp
                  var postContent = document.getElementById('postContent');
                  var timestamp = document.getElementById('timestamp');
          
                  // Create an editable textarea
                  var textarea = document.createElement('textarea');
                  textarea.className = 'form-control';
                  textarea.rows = '3';
                  textarea.value = postContent.innerText;
          
                  // Replace post content with the textarea
                  postContent.replaceWith(textarea);
          
                  // Add a "Save Changes" button
                  var saveButton = document.createElement('button');
                  saveButton.className = 'btn btn-primary mt-2';
                  saveButton.style.width = '125px'; // Set the width to 1px
                  saveButton.innerText = 'Save Changes';
                  saveButton.onclick = function () {
                      // Save the changes and replace the textarea with the new post content
                      postContent.innerText = textarea.value;
                      // Also, update the timestamp if needed
                      timestamp.innerText = 'Updated timestamp'; // You can update this with the actual updated timestamp
          
                      // Remove the "Save Changes" button
                      saveButton.remove();
                      // Replace the textarea with the updated post content
                      textarea.replaceWith(postContent);
                  };
          
                  // Append the "Save Changes" button
                  textarea.insertAdjacentElement('afterend', saveButton);
              }
          </script>
        </div>
    </section>
    <!-- Bootstrap JavaScript Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
        integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
        crossorigin="anonymous"></script>
</body>

</html>
